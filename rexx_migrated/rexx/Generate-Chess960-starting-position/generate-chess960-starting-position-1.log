-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:15
-------------------------------------------------------------------------
0001 /*REXX program generates a random starting position  for the  Chess960  game. */
0002 parse arg seed .                       /*allow for (RANDOM BIF) repeatability.*/
0003 if seed\==''  then call random ,,seed  /*if SEED was specified,  use the seed.*/
0004 @.=.                                   /*define the first rank as being empty.*/
0005 r1=random(1,6)                         /*generate the first rook:  rank 1.    */
0006 @.r1='R'                               /*place the  first rook  on  rank1.    */
0007 do  until  r2\==r1  &  r2\==r1-1  &  r2\==r1+1
0008 r2=random(1,8)               /*find placement for the 2nd rook.     */
0009 end   /*forever*/
0010 @.r2='r'                               /*place the second rook  on  rank 1.   */
0011 k=random(min(r1, r2)+1, max(r1, r2)-1) /*find a random position for the king. */
0012 @.k='K'                                /*place king between the two rooks.    */
0013 do _=0      ; b1=random(1,8);  if @.b1\==.  then iterate;  c=b1//2
0014 do forever; b2=random(1,8)       /* c=color of bishop ►──┘        */
0015 if @.b2\==. | b2==b1 | b2//2==c  then iterate /*is a bad position?*/
0016 leave _                    /*found position for the 2 clergy*/
0017 end   /*forever*/          /* [↑]  find a place for the 1st bishop*/
0018 end     /* _ */              /* [↑]    "  "   "    "   "  2nd    "  */
0019 @.b1='B'                               /*place the  1st  bishop on  rank 1.   */
0020 @.b2='b'                               /*  "    "   2nd     "    "    "  "    */
0021 /*place the two knights on rank 1.     */
0022 do  until @._='N';  _=random(1,8);   if @._\==.  then iterate; @._='N';   end
0023 do  until @.!='n';  !=random(1,8);   if @.!\==.  then iterate; @.!='n';   end
0024 _=                                     /*only the queen is left to be placed. */
0025 do i=1  for 8;  _=_ || @.i;   end   /*construct the output: first rank only*/
0026 say translate(translate(_, 'q', .))    /*stick a fork in it,  we're all done. */
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 seed             2
002 r1               5
003 until            7 22 23
004 r2               8
005 k                11
006 b1               13
007 c                13
008 b2               14
009 i                25
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 @.               -> newV1.           4 6 10 12 19 20 22 23
002 _                -> newV2            13 22 24 25
003 !                -> newV3            23
