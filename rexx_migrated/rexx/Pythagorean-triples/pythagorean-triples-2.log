-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:25
-------------------------------------------------------------------------
0001 /*REXX program counts the number of  Pythagorean triples  that exist given a maximum    */
0002 /*──────────────────── perimeter of  N, and also counts how many of them are primitives.*/
0003 parse arg N .                                    /*obtain optional argument from the CL.*/
0004 if N=='' | N==","  then N= 100                   /*Not specified?  Then use the default.*/
0005 @.= 0;        do j=1  for N;   @.j= j*j;   end   /*pre-compute some squares.            */
0006 N66= N * 2%3                                     /*calculate  2/3  of  N     (for a+b). */
0007 P= 0; T= 0;   do a=3  to N%3                     /*limit  side  to 1/3 of the perimeter.*/
0008 aEven= a//2==0                     /*set variable to  1   if  A  is even. */
0009 do b=a+1  by 1+aEven;  ab= a + b /*the triangle can't be isosceles.     */
0010 if ab>=N66       then iterate a  /*is a+b≥66% perimeter? Try different A*/
0011 aabb= @.a + @.b                  /*compute the sum of  a²+b²  (shortcut)*/
0012 do c=b + 1                     /*compute the value of the third side. */
0013 if aEven       then if c//2==0  then iterate  /*both A&C even? Skip it*/
0014 if ab+c>n      then iterate a  /*a+b+c > perimeter? Try different  A. */
0015 if @.c > aabb  then iterate b  /*is  c² >  a²+b² ?   "      "      B. */
0016 if @.c\==aabb  then iterate    /*is  c² ¬= a²+b² ?   "      "      C. */
0017 if @.a.b.c     then iterate    /*Is this a duplicate?  Then try again.*/
0018 T= T + 1                       /*Eureka! We found a Pythagorean triple*/
0019 P= P + 1                       /*count this also as a primitive triple*/
0020 do m=2  while a*m+b*m+c*m<=N /*generate non-primitives Pythagoreans.*/
0021 T= T + 1                     /*Eureka! We found a Pythagorean triple*/
0022 am= a*m;   bm= b*m;  cm= c*m /*create some short-cut variable names.*/
0023 @.am.bm.cm= 1                /*mark Pythagorean triangle as a triple*/
0024 end   /*m*/
0025 end     /*c*/
0026 end       /*b*/
0027 end         /*a*/                  /*stick a fork in it,  we're all done. */
0028 _= left('', 7)                                   /*for padding the output with 7 blanks.*/
0029 say 'max perimeter ='    N   _    "Pythagorean triples ="    T    _    'primitives ='    P
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 N                3 4
002 j                5
003 N66              6
004 P                7 19
005 T                7 18 21
006 a                7
007 aEven            8
008 b                9
009 ab               9
010 aabb             11
011 c                12
012 m                20
013 am               22
014 bm               22
015 cm               22
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 @.               -> newV1.           5 5 23
002 _                -> newV2            28
