-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:22
-------------------------------------------------------------------------
0001 /*REXX pgm  finds and displays  N  numbers that have an equal number of rises and falls,*/
0002 parse arg n .                                    /*obtain optional argument from the CL.*/
0003 if n=='' | n==","  then n= 200                   /*Not specified?  Then use the default.*/
0004 append= n>0                                      /*a flag that is used to append numbers*/
0005 n= abs(n)                                        /*use the absolute value of  N.        */
0006 call init                                        /*initialize the  rise/fall  database. */
0007 do j=1  until #==n                     /*test integers until we have N of them*/
0008 s= 0                                   /*initialize the sum of  rises/falls.  */
0009 do k=1  for length(j)-1  /*obtain a set of two digs from number.*/
0010 t= substr(j, k, 2)       /*obtain a set of two digs from number.*/
0011 s= s + @.t               /*sum the rises and falls in the number*/
0012 end   /*k*/
0013 if s\==0  then iterate                 /*Equal # of rises & falls? Then add it*/
0014 #= # + 1                               /*bump the count of numbers found.     */
0015 if append  then $= $ j                 /*append to the list of numbers found. */
0016 end   /*j*/
0017 
0018 if append  then call show                        /*display a list of  N  numbers──►term.*/
0019 else say  'the '  commas(n)th(n)  " number is: "   commas(j)    /*show Nth #.*/
0020 exit 0                                           /*stick a fork in it,  we're all done. */
0021 /*──────────────────────────────────────────────────────────────────────────────────────*/
0022 commas:  parse arg _;  do c=length(_)-3  to 1  by -3; _=insert(',', _, c); end;   return _
0023 th:      parse arg th;  return word('th st nd rd',1+(th//10)*(th//100%10\==1)*(th//10<4))
0024 /*──────────────────────────────────────────────────────────────────────────────────────*/
0025 init: @.= 0;   do i=1  for 9;    _= i' ';     @._= 1;    _= '0'i;   @._= +1;   end  /*i*/
0026 do i=10  to 99;   parse var i  a 2 b;     if a>b  then              @.i= -1
0027 else if a<b  then @.i= +1
0028 end   /*i*/;      #= 0;        $=;        return
0029 /*──────────────────────────────────────────────────────────────────────────────────────*/
0030 show: say 'the first '   commas(#)   " numbers are:";   say;       w= length( word($, #) )
0031 _=;    do o=1  for n;     _= _ right( word($, o), w);    if o//20\==0  then iterate
0032 say substr(_, 2);  _=               /*display a line;  nullify a new line. */
0033 end   /*o*/                         /* [↑]  display  20  numbers to a line.*/
0034 
0035 if _\==''  then say substr(_, 2);   return /*handle any residual numbers in list. */
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 i                26
002 a                26
003 b                26
004 w                30
005 o                31
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 @.               -> newV1.           25 25 26
002 #                -> newV2            14 28
003 $                -> newV3            15 28
004 _                -> newV4            22 22 25 25 31 31 32
