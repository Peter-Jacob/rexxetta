-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:26
-------------------------------------------------------------------------
0001 /*REXX program creates a  range extraction  from a  list of numbers  (can be negative.) */
0002 old=0 1 2 4 6 7 8 11 12 14 15 16 17 18 19 20 21 22 23 24 25 27 28 29 30 31 32 33 35 36 37 38 39
0003 #= words(old)                                    /*number of integers in the number list*/
0004 new=                                             /*the new list, possibly with ranges.  */
0005 do j=1  to  #;              z= word(old, j) /*obtain Jth number in the  old  list. */
0006 inc= 1;                   new= new','z      /*append  "    "    to  "   new    "   */
0007 do k=j+1  to #;    y= word(old, k) /*get the Kth number in the number list*/
0008 if y\==z+inc  then leave           /*is this number not > previous by inc?*/
0009 inc= inc + 1;      g= y            /*increase the range, assign  G (good).*/
0010 end   /*k*/
0011 if k-1=j   |   g=z+1   then iterate         /*Is the range=0â”‚1?  Then keep truckin'*/
0012 new= new'-'g;               j= k - 1        /*indicate a range of #s;  change index*/
0013 end            /*j*/
0014 /*stick a fork in it,  we're all done. */
0015 new= substr(new, 2)                              /*elide the leading comma in the range.*/
0016 say 'old:'   old;           say 'new:'  new      /*show the old and new range of numbers*/
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 old              2
002 new              4 6 12 15
003 j                5 12
004 z                5
005 inc              6 9
006 k                7
007 y                7
008 g                9
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 #                -> newV1            3
