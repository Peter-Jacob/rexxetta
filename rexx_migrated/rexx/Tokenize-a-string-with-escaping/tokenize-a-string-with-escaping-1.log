-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:33
-------------------------------------------------------------------------
0001 /*REXX program demonstrates tokenizing and displaying a string with escaping sequences. */
0002 str = 'one^|uno||three^^^^|four^^^|^cuatro|'   /*the character string to be tokenized.*/
0003 esc = '^'                                      /* "    escape  character to be used.  */
0004 sep = '|'                                      /* "  separator     "      "  "   "    */
0005 out =                                          /* "  output string  (so far).         */
0006 eMode = 0                                        /*a flag,  escape is in progress.      */
0007 
0008 do j=1  for length(str);  _=substr(str, j, 1)  /*parse a single character at a time.  */
0009 if eMode   then do; out=out || _;  eMode=0;  iterate;  end   /*are we in escape mode? */
0010 if _==esc  then do;                eMode=1;  iterate;  end   /*is it an escape char ? */
0011 if _==sep  then do; call show;               iterate;  end   /* "  " a separator char?*/
0012 out=out || _                                                 /*append the character.  */
0013 end   /*j*/
0014 
0015 if out\=='' | _==sep  then call show             /*handle a residual str or a separator.*/
0016 exit                                             /*stick a fork in it,  we're all done. */
0017 /*──────────────────────────────────────────────────────────────────────────────────────*/
0018 show:  say  '[length'right(length(out),4)"]"   out;             out=;               return
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 str              2
002 esc              3
003 sep              4
004 out              5 9 12 18
005 eMode            6 9 10
006 j                8
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 _                -> newV1            8
