-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:32
-------------------------------------------------------------------------
0001 /*REXX boilerplate determines how to clear screen (under various REXXes)*/
0002 trace off;      parse arg !            /*turn off tracing; get C.L. args*/
0003 if !all(arg())  then exit              /*Doc request?   Show, then exit.*/
0004 if !cms then address ''                /*Is this CMS?  Use this address.*/
0005 
0006 !cls                                   /*clear the (terminal) screen.   */            /* ◄═══   this is where  "it"  happens.*/
0007 
0008 exit                                   /*stick a fork in it, we're done.*/
0009 /*═════════════════════════════general 1-line subs══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════*/
0010 !all:  !!=!;!=space(!);upper !;call !fid;!nt=right(!var('OS'),2)=='NT';!cls=word('CLS VMFCLEAR CLRSCREEN',1+!cms+!tso*2);if arg(1)\==1 then return 0;if wordpos(!,'? ?SAMPLES ?AUTHOR ?FLOW')==0 then return 0;!call=']$H';call '$H' !fn !;!call=;return 1
0011 !cal:  if symbol('!CALL')\=="VAR" then !call=; return !call
0012 !env:  !env='ENVIRONMENT'; if !sys=='MSDOS'|!brexx|!r4|!roo then !env='SYSTEM'; if !os2 then !env='OS2'!env; !ebcdic=1=='f0'x; if !crx then !env='DOS'; return
0013 !fid:  parse upper source !sys !fun !fid . 1 . . !fn !ft !fm .; call !sys; if !dos then do; _=lastpos('\',!fn); !fm=left(!fn,_); !fn=substr(!fn,_+1); parse var !fn !fn '.' !ft; end; return word(0 !fn !ft !fm,1+('0'arg(1)))
0014 !rex:  parse upper version !ver !vernum !verdate .; !brexx='BY'==!vernum; !kexx='KEXX'==!ver; !pcrexx='REXX/PERSONAL'==!ver|'REXX/PC'==!ver; !r4='REXX-R4'==!ver; !regina='REXX-REGINA'==left(!ver,11); !roo='REXX-ROO'==!ver; call !env; return
0015 !sys:  !cms=!sys=='CMS'; !os2=!sys=='OS2'; !tso=!sys=='TSO'|!sys=='MVS'; !vse=!sys=='VSE'; !dos=pos('DOS',!sys)\==0|pos('WIN',!sys)\==0|!sys=='CMD'; !crx=left(!sys,6)=='DOSCRX'; call !rex; return
0016 !var:  call !fid; if !kexx then return space(dosenv(arg(1))); return space(value(arg(1),,!env))
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 version          14
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 !verdate         -> newV1            14
002 !ebcdic          -> newV2            12
003 !vernum          -> newV3            14
004 !pcrexx          -> newV4            14
005 !regina          -> newV5            14
006 !brexx           -> newV6            14
007 !call            -> newV7            10 10
008 !kexx            -> newV8            14
009 !cls             -> newV9            10
010 !env             -> newV10           12 12 12
011 !sys             -> newV11           13
012 !fun             -> newV12           13
013 !fid             -> newV13           13
014 !ver             -> newV14           14
015 !roo             -> newV15           14
016 !os2             -> newV16           15
017 !tso             -> newV17           15
018 !vse             -> newV18           15
019 !dos             -> newV19           15
020 !crx             -> newV20           15
021 !nt              -> newV21           10
022 !fn              -> newV22           13 13 13 13
023 !ft              -> newV23           13 13
024 !fm              -> newV24           13 13
025 !r4              -> newV25           14
026 !                -> newV26           2 10
027 _                -> newV27           13
