-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:19
-------------------------------------------------------------------------
0001 /*REXX program lists  n─node  rooted trees  (by enumerating all ways of nesting N bags).*/
0002 parse arg N .                                    /*obtain optional argument from the CL.*/
0003 if N=='' | N==","  then N=5                      /*Not specified?  Then use the default.*/
0004 if N>5  then do;  say N  "isn't supported for this program at this time.";   exit 13;  end
0005 nn= N + N - 1                                    /*power of 2 that is used for dec start*/
0006 numeric digits 200                               /*use enough digs for next calculation.*/
0007 numeric digits max(9, 1 + length( x2b( d2x(2**(nn+1) - 1) ) ) )  /*limit decimal digits.*/
0008 start= 2**nn    +    (2**nn) % 2                 /*calculate the starting decimal number*/
0009 if N==1  then start= 2**1                        /*treat the start for unity as special.*/
0010 @= copies('─', 20)"► ";    o = 'o'               /*demonstrative literal for solutions. */
0011 #= 0                                             /*count of ways to nest bags (so far). */
0012 $=                                               /*string holds possible duplicious strs*/
0013 do j=start + start//2  to 2**(nn+1)-1  by 2  /*limit the search, smart start and end*/
0014 t= x2b( d2x(j) )   +   0                     /*convert dec number to a binary string*/
0015 z= length( space( translate(t, , 0), 0) )    /*count the number of zeros in bit str.*/
0016 if z\==n  then iterate                       /*Not enough zeroes?  Then skip this T.*/
0017 if N>1  then if  left(t, N)==right(t, N)  then iterate     /*left side ≡ right side?*/
0018 if N>2  then if right(t, 2)==    10  then iterate  /*has a right─most isolated bag ?*/
0019 if N>3  then if right(t, 4)==  1100  then iterate  /* "  "      "         "     "   */
0020 if N>4  then if right(t, 6)==111000  then iterate  /* "  "      "         "     "   */
0021 if N>4  then if right(t, 6)==110100  then iterate  /* "  "      "         "     "   */
0022 if N>4  then if right(t, 6)==100100  then iterate  /* "  "      "         "     "   */
0023 if wordpos(t, $)\==0                 then iterate  /*this a duplicate bag stuffing? */
0024 say @ changestr('()', translate(t, "()", 10),  o)  /*show a compact display with oh.*/
0025 #= # + 1                                     /*bump count of ways of nesting bags.  */
0026 $= $  translate( reverse(t), 01, 10)         /*save a (possible) duplicious string. */
0027 end   /*j*/
0028 say                                              /*separate number─of─ways with a blank.*/
0029 say # ' is the number of ways to nest' n "bags." /*stick a fork in it,  we're all done. */
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 N                2 3
002 nn               5
003 start            8 9
004 o                10
005 j                13
006 t                14
007 z                15
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 @                -> newV1            10
002 #                -> newV2            11 25
003 $                -> newV3            12 26
