-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:06
-------------------------------------------------------------------------
0001 /*REXX pgm shows the states of a person's biorhythms                   */
0002 /*                                 (physical, emotional, intellectual) */
0003 Parse Arg birthdate targetdate .  /* obtain one or two dates from CL   */
0004 If birthdate='?' Then Do
0005 Say 'rexx bio birthdate (yyyymmdd) shows you today''s biorhythms'
0006 Say 'or enter your birthday now'
0007 Parse Pull birthdate
0008 If birthdate='' Then Exit
0009 End
0010 If birthdate='' Then
0011 Parse Value 19460906 20200906 With birthdate targetdate
0012 If targetdate='' Then
0013 targetdate=Date('S')
0014 days=daysbet2(birthdate,targetdate)
0015 If days==0 Then Do
0016 Say
0017 Say 'The two dates specified are exacty the same.'
0018 Exit 1
0019 End
0020 cycles='physical emotional intellectual' /*the biorhythm cycle names   */
0021 cycle='negative neutral positive'
0022 period.1=23
0023 period.2=28
0024 period.3=33
0025 pid2=pi()*2*days
0026 say 'Birthdate:   ' birthdate  '('translate('gh.ef.abcd',birthdate,'abcdefgh')')'
0027 say 'Today:       ' targetdate '('translate('gh.ef.abcd',targetdate,'abcdefgh')')'
0028 Say 'Elapsed days:' days
0029 Do j=1 To 3
0030 state=2+sign(sin(pid2/period.j))  /* obtain state for each biorhythm */
0031 Say 'biorhythm for the' right(word(cycles,j),12) 'cycle is',
0032 word(cycle,state)
0033 End
0034 Exit
0035 /*---------------------------------------------------------------------*/
0036 pi:
0037 pi=3.1415926535897932384626433832795028841971693993751058209749445923078
0038 Return pi
0039 r2r:
0040 Return arg(1)//(pi()*2)           /* normalize radians --? a unit ci*/
0041 /*--------------------------------------------------------------------------------------*/
0042 sin: Procedure
0043 Parse Arg x
0044 x=r2r(x)
0045 _=x
0046 Numeric Fuzz min(5,max(1,digits()-3))
0047 If x=pi*.5 Then
0048 Return 1
0049 If x==pi*1.5 Then
0050 Return-1
0051 If abs(x)=pi|x=0 Then
0052 Return 0
0053 q=x*x
0054 z=x
0055 Do k=2 By 2 Until p=z
0056 p=z
0057 _=-_*q/(k*k+k)
0058 z=z+_
0059 End
0060 Return z
0061 
0062 daysbet2: Procedure
0063 /* compute the number of days between fromdate and todate */
0064 Parse Arg fromdate,todate
0065 fromday=date('B',fromdate,'S')
0066 today=date('B',todate,'S')
0067 Return today-fromday
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 fromdate         64
002 todate           64
003 fromday          65
004 today            66
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 _                -> newV1            45 57
