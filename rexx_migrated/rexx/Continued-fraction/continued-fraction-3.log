-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:09
-------------------------------------------------------------------------
0001 /* REXX *************************************************************
0002 * The task description specifies a continued fraction for pi
0003 * that gives a reasonable approximation.
0004 * Literature shows a better CF that yields pi with a precision of
0005 * 200 digits.
0006 * http://de.wikipedia.org/wiki/Kreiszahl
0007 *                    1
0008 * pi = 3 + ------------------------
0009 *                      1
0010 *          7 + --------------------
0011 *                         1
0012 *              15 + ---------------
0013 *                            1
0014 *                   1 + -----------
0015 *
0016 *                       292 + ...
0017 *
0018 * This program uses that CF and shows the first 50 digits
0019 * PI =3.1415926535897932384626433832795028841971693993751...
0020 * PIX=3.1415926535897932384626433832795028841971693993751...
0021 * 201 correct digits
0022 * 18.09.2012 Walter Pachl
0023 **********************************************************************/
0024 pi='3.1415926535897932384626433832795028841971'||,
0025 '693993751058209749445923078164062862089986280348'||,
0026 '253421170679821480865132823066470938446095505822'||,
0027 '317253594081284811174502841027019385211055596446'||,
0028 '229489549303819644288109756659334461284756482337'||,
0029 '867831652712019091456485669234603486104543266482'||,
0030 '133936072602491412737245870066063155881748815209'||,
0031 '209628292540917153643678925903600113305305488204'||,
0032 '665213841469519415116094330572703657595919530921'||,
0033 '861173819326117931051185480744623799627495673518'||,
0034 '857527248912279381830119491298336733624'
0035 Numeric Digits 1000
0036 al='7 15 1 292 1 1 1 2 1 3 1 14 2 1 1 2 2 2 2 1 84 2',
0037 '1 1 15 3 13 1 4 2 6 6 99 1 2 2 6 3 5 1 1 6 8 1 7 1 2',
0038 '3 7 1 2 1 1 12 1 1 1 3 1 1 8 1 1 2 1 6 1 1 5 2 2 3 1',
0039 '2 4 4 16 1 161 45 1 22 1 2 2 1 4 1 2 24 1 2 1 3 1 2',
0040 '1 1 10 2 5 4 1 2 2 8 1 5 2 2 26 1 4 1 1 8 2 42 2 1 7',
0041 '3 3 1 1 7 2 4 9 7 2 3 1 57 1 18 1 9 19 1 2 18 1 3 7',
0042 '30 1 1 1 3 3 3 1 2 8 1 1 2 1 15 1 2 13 1 2 1 4 1 12',
0043 '1 1 3 3 28 1 10 3 2 20 1 1 1 1 4 1 1 1 5 3 2 1 6 1 4'
0044 a.=3
0045 Do i=1 By 1 while al<>''
0046 Parse Var al a.i al
0047 End
0048 pix=calc(194)
0049 Do e=1 To length(pi)
0050 If substr(pix,e,1)<>substr(pi,e,1) Then Leave
0051 End
0052 Numeric Digits 50
0053 Say 'PI ='||(pi+0)||'...'
0054 Say 'PIX='||(pix+0)||'...'
0055 Say (e-1) 'correct digits'
0056 Exit
0057 
0058 Get_Coeffs: procedure Expose a b a.
0059 Parse Arg n
0060 a=a.n
0061 b=1
0062 Return
0063 
0064 Calc: procedure Expose a b a.
0065 Parse Arg n
0066 Temp=0
0067 do ni = n to 1 by -1
0068 Call Get_Coeffs ni
0069 Temp = B/(A + Temp)
0070 end
0071 call Get_Coeffs 0
0072 return (A + Temp)
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 n                65
002 Temp             66 69
003 ni               67
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
