-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:06
-------------------------------------------------------------------------
0001 /*REXX program illustrates and displays a simple moving average using a constructed list*/
0002 parse arg p q n .                                /*obtain optional arguments from the CL*/
0003 if p=='' | p==","  then p=  3                    /*Not specified?  Then use the default.*/
0004 if q=='' | q==","  then q=  5                    /* "      "         "   "   "     "    */
0005 if n=='' | n==","  then n= 10                    /* "      "         "   "   "     "    */
0006 @.= 0                                            /*default value, only needed for odd N.*/
0007 do j=1    for n%2;       @.j= j            /*build 1st half of list, increasing #s*/
0008 end   /*j*/
0009 
0010 do k=n%2  by -1  to 1;   @.j= k;   j= j+1  /*  "   2nd   "   "   "   decreasing " */
0011 end   /*k*/
0012 say '  number  '     " SMA with period" p' '   " SMA with period" q
0013 say ' ──────── '     "───────────────────"     '───────────────────'
0014 pad='     '
0015 do m=1  for n;  say center(@.m, 10)  pad left(SMA(p, m), 19)     left(SMA(q, m), 19)
0016 end   /*m*/
0017 exit                                             /*stick a fork in it,  we're all done. */
0018 /*──────────────────────────────────────────────────────────────────────────────────────*/
0019 SMA: procedure expose @.;  parse arg p,j;                          i= 0    ;    $= 0
0020 do k=max(1, j-p+1)  to j+p  for p  while k<=j;    i= i + 1;    $= $ + @.k
0021 end   /*k*/
0022 return $/i                                  /*SMA   ≡   simple moving average.     */
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 p                19
002 j                19
003 i                19 20
004 k                20
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 @.               -> newV1.           6 7 10
002 $                -> newV2            19 20
