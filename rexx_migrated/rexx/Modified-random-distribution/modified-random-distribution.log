-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:21
-------------------------------------------------------------------------
0001 /*REXX program generates a "<" shaped probability of number generation using a modifier.*/
0002 parse arg randn bins seed .                      /*obtain optional argument from the CL.*/
0003 if randN=='' | randN==","  then randN= 100000    /*Not specified?  Then use the default.*/
0004 if  bins=='' |  bins==","  then  bins=     20    /* "      "         "   "   "     "    */
0005 if datatype(seed, 'W')   then call random ,,seed /* "      "         "   "   "     "    */
0006 call MRD
0007 !.= 0
0008 do j=1  for randN;   bin= @.j*bins%1
0009 !.bin= !.bin + 1                           /*bump the applicable bin counter.     */
0010 end   /*j*/
0011 mx= 0
0012 do k=1  for randN;   mx= max(mx, !.k)      /*find the maximum, used for histograph*/
0013 end   /*k*/
0014 
0015 say '  bin'
0016 say '────── '   center('(with '    commas(randN)    " samples",  80 - 10)
0017 
0018 do b=0  for bins;  say format(b/bins,2,2)   copies('■', 70*!.b%mx)" "   commas(!.b)
0019 end   /*b*/
0020 exit 0
0021 /*──────────────────────────────────────────────────────────────────────────────────────*/
0022 commas:   arg ?;  do jc=length(?)-3  to 1  by -3;  ?=insert(',', ?, jc);  end;    return ?
0023 rand:     return random(0, 100000) / 100000
0024 /*──────────────────────────────────────────────────────────────────────────────────────*/
0025 modifier: parse arg y;   if y<.5  then return  2 * (.5 -  y)
0026 else return  2 * ( y - .5)
0027 /*──────────────────────────────────────────────────────────────────────────────────────*/
0028 MRD:      #=0;                      @.=          /*MRD:  Modified Random distribution.  */
0029 do until #==randN;      r= rand()    /*generate a random number; assign bkup*/
0030 if rand()>=modifier(r)  then iterate /*Doesn't meet requirement?  Then skip.*/
0031 #= # + 1;               @.#= r       /*bump counter; assign the MRD to array*/
0032 end   /*until*/
0033 return
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 y                25
002 until            29
003 r                29
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 !.               -> newV1.           7 9
002 @.               -> newV2.           28 31
003 ?                -> newV3            22
004 #                -> newV4            31
