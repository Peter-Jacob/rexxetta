-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:31
-------------------------------------------------------------------------
0001 /*REXX program displays a stem─and─leaf plot of any real numbers [can be:  neg, 0, pos].*/
0002 parse arg @                                      /*obtain optional arguments from the CL*/
0003 if @=''  then @='15 14 3 2 1 0 -1 -2 -3 -14 -15' /*Not specified?  Then use the default.*/
0004 #.=;                  bot=.;    top=.;      z=.  /* [↑]  define all #. elements as null.*/
0005 do j=1  for words(@);     y=word(@, j)     /*◄─── process each number in the list.*/
0006 if \datatype(y,"N")  then do; say '***error*** item' j "isn't numeric:" y; exit; end
0007 n=format(y,,0)/1;  an=abs(n); s=sign(n)    /*normalize the numbers (not malformed)*/
0008 stem=left(an, length(an) -1)
0009 if stem==''  then if s>=0  then stem=0     /*handle case of one-digit positive #. */
0010 else stem='-0'  /*   "     "   "  "    "   negative "  */
0011 else stem=s * stem            /*   "     "   " a  multi-digit number.*/
0012 parse var  n '' -1 leaf                    /*obtain the leaf (the last digit) of #*/
0013 if bot==.  then do; bot=stem; top=bot; end /*handle the first case for TOP and BOT*/
0014 bot=min(bot, stem);     top=max(top, stem) /*obtain the minimum and maximum so far*/
0015 if stem=='-0'  then z=0                    /*use  Z  as a flag to show negative 0.*/
0016 #.stem.leaf= #.stem.leaf  leaf             /*construct sorted stem-and-leaf entry.*/
0017 end   /*j*/
0018 
0019 w=max(length(min), length(max) )  + 1            /*W:  used to right─justify the output.*/
0020 !='-0'                                           /* [↓]  display the stem-and-leaf plot.*/
0021 do k=bot  to top;           $=             /*$:  is the output string, a plot line*/
0022 if k==z  then do                           /*handle a special case for negative 0.*/
0023 do s=0  for 10; $=$ #.!.s /*build a line for the stem─&─leaf plot*/
0024 end  /*s*/                /* [↑]  address special case of  -zero.*/
0025 say right(!, w) '║' space($) /*display a line of stem─and─leaf plot.*/
0026 end                          /* [↑]  handles special case of  -zero.*/
0027 $=                                         /*a new plot line  (of output).        */
0028 do m=0  for 10;  $=$  #.k.m  /*build a line for the stem─&─leaf plot*/
0029 end  /*m*/
0030 say right(k, w)    '║'    space($)         /*display a line of stem─and─leaf plot.*/
0031 end   /*k*/                                /*stick a fork in it,  we're all done. */
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 n                12
002 leaf             12
003 bot              13 14
004 top              13 14
005 z                15
006 w                19
007 k                21
008 s                23
009 m                28
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 #.               -> newV1.           4 16
002 @                -> newV2            2 3
003 !                -> newV3            20
004 $                -> newV4            21 23 27 28
