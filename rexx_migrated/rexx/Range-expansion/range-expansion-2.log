-------------------------------------------------------------------------
Initial REXX INFILE on 23 Mar 2025 at 10:43:26
-------------------------------------------------------------------------
0001 /*REXX program to expand a range of integers into a list. *************
0002 * 09.08.2012 Walter Pachl
0003 **********************************************************************/
0004 
0005 parse arg old
0006 if old = '' then -
0007 old='-6,-3--1,3-5,7-11,14,15,17-20' /*original list of nums/ranges */
0008 
0009 Say 'old='old                     /*show old list of nums/ranges.  */
0010 a=translate(old,,',')             /*translate commas to blanks     */
0011 new=''                            /*new list of numbers (so far).  */
0012 
0013 comma=''
0014 Do While a<>''                    /* as long as there is input     */
0015 Parse var a x a                 /* get one element               */
0016 dashpos=pos('-',x,2)            /* find position of dash, if any */
0017 If dashpos>0 Then Do            /* element is low-high           */
0018 Parse Var x low =(dashpos) +1 high /* split the element        */
0019 Do j=low To high              /* output all numbers in range   */
0020 new=new||comma||j           /* with separating commas        */
0021 comma=','                   /* from now on use comma         */
0022 End
0023 End
0024 Else Do                         /* element is a number           */
0025 new=new||comma||x             /* append (with comma)           */
0026 comma=','                     /* from now on use comma         */
0027 End
0028 End
0029 Say 'new='new                     /*show the expanded list         */
-------------------------------------------------------------------------
Cross Reference Table Solid Variable Names
-------------------------------------------------------------------------
001 x                18
002 low              18
003 high             18
004 j                19
005 new              20 25
006 comma            21 26
-------------------------------------------------------------------------
Cross Reference Table Bizarre Variable Names
-------------------------------------------------------------------------
001 =(dashpos)       -> newV1            18
